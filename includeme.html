

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PyVOL: Protein Pocket Visualization, Segmentation, and Characterization &mdash; pyvol 1.2.27 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="pyvol 1.2.27 documentation" href="index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> pyvol</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#detailed-pymol-installation">Detailed PyMOL Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#manual-installation">Manual Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#manual-msms-installation">Manual MSMS Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#updating">Updating</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#uninstallation">Uninstallation</a></li>
</ul>
</li>
</ul>
<ul class="simple">
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">pyvol</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>PyVOL: Protein Pocket Visualization, Segmentation, and Characterization</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/includeme.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="pyvol-protein-pocket-visualization-segmentation-and-characterization">
<h1>PyVOL: Protein Pocket Visualization, Segmentation, and Characterization<a class="headerlink" href="#pyvol-protein-pocket-visualization-segmentation-and-characterization" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://pypi.python.org/pypi/bio_pyvol"><img alt="Pypi Version" src="https://img.shields.io/pypi/v/bio_pyvol.svg" /></a>
<a class="reference external image-reference" href="https://pypi.python.org/pypi/bio_pyvol/"><img alt="License" src="https://img.shields.io/pypi/l/bio_pyvol.svg" /></a>
<p>PyVOL is a python library packaged into a <cite>PyMOL</cite> GUI for identifying protein binding pockets, partitioning them into sub-pockets, and calculating their volumes. PyVOL can be run as a PyMOL plugin through its GUI or the PyMOL prompt, as an imported python library, or as a commandline program. Visualization of results is exclusively supported through PyMOL though exported surfaces are compatible with standard 3D geometry visualization programs.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>PyVOL can be installed into any python environment; however, for most users direct installation using PyMOL&#8217;s plugin manager.</p>
<div class="section" id="pymol-installation">
<h3>PyMOL Installation<a class="headerlink" href="#pymol-installation" title="Permalink to this headline">¶</a></h3>
<p>PyVOL can be installed by using PyMOL&#8217;s plugin manager to load the <cite>zipped gui</cite>. This installation creates a &#8220;PyVOL&#8221; menu item under plugins. Opening this menu launches the PyVOL GUI. The third tab manages the installation of the PyVOL backend. Simply clicking &#8220;Install PyVOL&#8221; install the PyVOL backend and, on Linux and MacOS, all dependencies.  For dependency installation on Windows or manual installation, see the <span class="xref std std-ref">installation page</span>.</p>
</div>
<div class="section" id="basic-manual-installation">
<h3>Basic Manual Installation<a class="headerlink" href="#basic-manual-installation" title="Permalink to this headline">¶</a></h3>
<p>PyVOL minimally requires biopython, msms, numpy, pandas, scipy, scikit-learn, and trimesh in order to run. PyVOL is available for manual installation from github or from PyPI.</p>
<div class="highlight-bash"><div class="highlight"><pre>pip install bio-pyvol
</pre></div>
</div>
</div>
<div class="section" id="manual-msms-installation">
<h3>Manual MSMS Installation<a class="headerlink" href="#manual-msms-installation" title="Permalink to this headline">¶</a></h3>
<p>MSMS can be installed on MacOS and Linux using the bioconda channel:</p>
<div class="highlight-bash"><div class="highlight"><pre>conda install -c bioconda msms
</pre></div>
</div>
<p>Otherwise MSMS must be installed manually by downloading it from <a class="reference external" href="http://mgltools.scripps.edu/packages/MSMS/">MGLTools</a> and adding it to the path. PyMOL distributions from Schrodinger have MSMS included; however, it must still be added to the path manually. The executable is located at:</p>
<div class="highlight-bash"><div class="highlight"><pre>&lt;pymol_root_dir&gt;/pkgs/msms-2.6.1-2/bin/msms
</pre></div>
</div>
</div>
<div class="section" id="quick-start">
<h3>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h3>
<p>From within PyMOL, the simplest binding pocket calculation is simply run either with the provided GUI or with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pocket</span> <span class="n">protein_selection</span>
</pre></div>
</div>
<p>The two parameters that most dramatically affect calculations are the maximum and minimum radii used to respectively define the exterior surface of the protein and the boundary of the binding pocket itself. In practice, the minimum radius does not need to be changed as its default (1.4) is broadly useful. The maximum radius does often need to be adjust to find a suitable value using the max_rad parameter:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">min_rad</span><span class="o">=</span><span class="mf">1.4</span><span class="p">,</span> <span class="n">max_rad</span><span class="o">=</span><span class="mf">3.4</span>
</pre></div>
</div>
</div>
<div class="section" id="basic-usage">
<h3>Basic Usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h3>
<div class="section" id="pocket-specification">
<h4>Pocket Specification<a class="headerlink" href="#pocket-specification" title="Permalink to this headline">¶</a></h4>
<p>PyVOL by default recognizes the largest pocket and returns the volume and geometry for it. However, manual identification of the pocket of interest is generally preferable. This can be done through specification of a ligand, a residue, or a coordinate. If a specification is given, the mode is changed to specific by default.</p>
<p>Default behavior:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">largest</span>
</pre></div>
</div>
<p>Ligand specification:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">specific</span><span class="p">,</span> <span class="n">ligand</span><span class="o">=</span><span class="n">ligand_selection</span>
<span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">ligand</span><span class="o">=</span><span class="n">ligand_selection</span>
</pre></div>
</div>
<p>Residue specification:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">specific</span><span class="p">,</span> <span class="n">resid</span><span class="o">=</span><span class="n">A15</span>
<span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">resid</span><span class="o">=</span><span class="n">A15</span>
<span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">specific</span><span class="p">,</span> <span class="n">residue</span><span class="o">=</span><span class="n">residue_selection</span>
<span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">residue</span><span class="o">=</span><span class="n">residue_selection</span>
</pre></div>
</div>
<p>where the resid is written as <a href="#id1"><span class="problematic" id="id2">:raw-html-m2r:`&lt;Chain&gt;`</span></a><a href="#id3"><span class="problematic" id="id4">:raw-html-m2r:`&lt;Residue number&gt;`</span></a>. If there is only one chain in the selection, the chain ID can be excluded.</p>
<p>Coordinate specification:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">specific</span><span class="p">,</span> <span class="n">pocket_coordinate</span><span class="o">=</span><span class="s">&quot;5.0 10.0 15.0&quot;</span>
<span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">pocket_coordinate</span><span class="o">=</span><span class="s">&quot;5.0 10.0 15.0&quot;</span>
</pre></div>
</div>
<p>where the coordinate is provided as three floats separated by spaces and bounded by quotation marks.</p>
<p>Alternatively, PyVOL can return the surfaces and volumes for all pockets above a minimum volume that are identified. By default, this volume cutoff is set at 200 A^3.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="nb">all</span><span class="p">,</span> <span class="n">minimum_volume</span><span class="o">=</span><span class="mi">200</span>
</pre></div>
</div>
</div>
<div class="section" id="extra-ligand-options">
<h4>Extra Ligand Options<a class="headerlink" href="#extra-ligand-options" title="Permalink to this headline">¶</a></h4>
<p>When a ligand is provided, the atoms of the ligand can be used to identify both minimum and maximum extents of the calculated binding pocket. To include the volume of the ligand in the pocket volume (useful for when the ligand extends into bulk solvent), use the lig_incl_rad parameter:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">ligand</span><span class="o">=</span><span class="n">ligand_selection</span><span class="p">,</span> <span class="n">lig_incl_rad</span><span class="o">=</span><span class="mf">0.0</span>
</pre></div>
</div>
<p>where the value of lig_incl_rad is added to the Van der Waals radii of each atom in the ligand selection when calculating the exterior surface of the protein.</p>
<p>The atoms of the ligand can also be used to define a maximum boundary to the calculated pocket by specifying the lig_excl_rad parameter:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">ligand</span><span class="o">=</span><span class="n">ligand_selection</span><span class="p">,</span> <span class="n">lig_excl_rad</span><span class="o">=</span><span class="mf">2.0</span>
</pre></div>
</div>
<p>where the value of lig_excl_rad is added to the Van der Waals radii of each atom in the ligand selection when calculating the exterior surface of the protein.</p>
</div>
<div class="section" id="sub-pocket-partitioning">
<h4>Sub-pocket Partitioning<a class="headerlink" href="#sub-pocket-partitioning" title="Permalink to this headline">¶</a></h4>
<p>Sub-partitioning is enabled by setting the subdivide parameter to True:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">subdivide</span><span class="o">=</span><span class="bp">True</span>
</pre></div>
</div>
<p>Parameters controlling the number of sub-pockets identified generally perform well using defaults; however, they can be easily adjusted as needed. The two most important parameters are the minimum radius of the largest sphere in each sub-pocket (this excludes small sub-pockets) and the maximum number of clusters:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">subdivide</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">min_subpocket_rad</span><span class="o">=</span><span class="mf">1.7</span><span class="p">,</span> <span class="n">max_clusters</span><span class="o">=</span><span class="mi">10</span>
</pre></div>
</div>
<p>If the number of clusters must be reduced, sub-pockets are merged on the basis of connectivity between the defining sets of tangent spheres. Practically, sub-pockets with a greater surface area boundary are merged first.</p>
</div>
<div class="section" id="display-and-output-options">
<h4>Display and Output Options<a class="headerlink" href="#display-and-output-options" title="Permalink to this headline">¶</a></h4>
<p>By default, PyVOL simply outputs a log containing volumes and, when invoked through PyMOL, displays pocket boundaries as semi-translucent surfaces. This behavior can be extensively customized.</p>
<p>The output name for all computed PyMOL objects and the base filename for any output files can be specified using the prefix option:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="n">favprot</span>
</pre></div>
</div>
<p>PyVOL can also write the input and output files to a directory if given an output directory. In this case it writes out the input protein and ligand structures, a csv report of all calcuated volumes, and paired csv/obj files containing tangent sphere collections and 3D triangulated mesh files respectively.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">output_dir</span><span class="o">=</span><span class="n">best_out_dir</span>
</pre></div>
</div>
<p>Calculated surfaces can be visualized in three different ways by setting the display_mode parameter. The following three commands set the output as a solid surface with transparency, a wireframe mesh, and a collection of spheres. Color is set with the color parameter and transparency (when applicable) with the alpha parameter:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">display_mode</span><span class="o">=</span><span class="n">solid</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">skyblue</span>
<span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">display_mode</span><span class="o">=</span><span class="n">mesh</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">red</span>
<span class="n">pocket</span> <span class="n">protein_selection</span><span class="p">,</span> <span class="n">display_mode</span><span class="o">=</span><span class="n">spheres</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">firebrick</span>
</pre></div>
</div>
<p>where alpha is [0, 1.0] and the color is any color defined within pymol. The presets should generally be sufficient, but custom colors can be chosen using the commands given on the PyMOL wiki.</p>
</div>
<div class="section" id="command-line-interface">
<h4>Command-line Interface<a class="headerlink" href="#command-line-interface" title="Permalink to this headline">¶</a></h4>
<p>PyVOL can also be run from the command-line. If installed using pip, a <code class="docutils literal"><span class="pre">pyvol</span></code> entry point should be automatically installed and made available on the path. Otherwise, manual invocation of <code class="docutils literal"><span class="pre">pyvol/__main__.py</span></code> should work. From the command-line, PyVOL is run with a standard configuration file.</p>
<div class="highlight-bash"><div class="highlight"><pre>python -m pyvol &lt;input_parameters.cfg&gt;
</pre></div>
</div>
<p>A template configuration file with default values supplied can be generated using:</p>
<div class="highlight-bash"><div class="highlight"><pre>python -m pyvol -t &lt;output_template.cfg&gt;
</pre></div>
</div>
<p>Currently, PyVOL only reports standard log output to stdout when run this way. So if an output directory is not provided, there is no easy way to retrieve the results.</p>
</div>
</div>
</div>
</div>


          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Ryan Smith.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.2.27',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>