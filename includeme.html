<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>&lt;no title&gt; &mdash; pyvol 1.2.27 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.2.27',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="pyvol 1.2.27 documentation" href="index.html" />
    <link rel="prev" title="Welcome to pyvolâ€™s documentation!" href="index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p># PyVOL</p>
<p>PyVOL is a python library packaged into a PyMOL GUI for identifying protein binding pockets, partitioning them into sub-pockets, and calculating their volumes. PyVOL can be run as a PyMOL plugin through its GUI or the PyMOL prompt, as an imported python library, or as a commandline program. Visualization of results is exclusively supported through PyMOL though exported surfaces are compatible with all standard 3D geometry viewers.</p>
<p>## Basic PyMOL Installation
PyVOL can be installed into PyMOL by using the plugin manager to install directly from the PyMOL wiki or by manually installing the zip file downloaded from:
<code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">https://github.com/rhs2132/pyvol/blob/master/pyvolgui.zip</span>
<span class="pre">`</span></code>
Either option adds a menu option under plugins called &#8220;PyVOL.&#8221; Opening this menu will launch the PyVOL GUI. The third tab manages the installation and update of the PyVOL backend. Simply clicking &#8220;Install PyVOL&#8221; will use pip to install the code and all dependencies. However, installation of MSMS is unavailable through this path. On MacOS and Linux, MSMS is subsequently installed using conda. However, Windows requires independent installation as described below.</p>
<p>## Basic Manual Installation
PyVOL minimally requires biopython, msms, numpy, pandas, scipy, scikit-learn, and trimesh in order to run. PyVOL is available for manual installation from github or from PyPI.
<code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">pip</span> <span class="pre">install</span> <span class="pre">bio-pyvol</span>
<span class="pre">`</span></code></p>
<p>## Manual MSMS Installation
MSMS can be installed on MacOS and Linux using the bioconda channel:
<a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>bash
conda install -c bioconda msms</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">Otherwise</span> <span class="pre">MSMS</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">installed</span> <span class="pre">manually</span> <span class="pre">by</span> <span class="pre">downloading</span> <span class="pre">it</span> <span class="pre">from</span> <span class="pre">[MGLTools](http://mgltools.scripps.edu/packages/MSMS/)</span> <span class="pre">and</span> <span class="pre">adding</span> <span class="pre">it</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">path.</span> <span class="pre">PyMOL</span> <span class="pre">distributions</span> <span class="pre">from</span> <span class="pre">Schrodinger</span> <span class="pre">have</span> <span class="pre">MSMS</span> <span class="pre">included;</span> <span class="pre">however,</span> <span class="pre">it</span> <span class="pre">must</span> <span class="pre">still</span> <span class="pre">be</span> <span class="pre">added</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">path</span> <span class="pre">manually.</span> <span class="pre">The</span> <span class="pre">executable</span> <span class="pre">is</span> <span class="pre">located</span> <span class="pre">at:</span>
<span class="pre">```bash</span>
<span class="pre">&lt;pymol_root_dir&gt;/pkgs/msms-2.6.1-2/bin/msms</span>
<span class="pre">`</span></code></p>
<p>## Quick Start
From within PyMOL, the simplest binding pocket calculation is simply run either with the provided GUI or with:
<code class="docutils literal"><span class="pre">`python</span>
<span class="pre">pocket</span> <span class="pre">protein_selection</span>
<span class="pre">`</span></code>
The two parameters that most dramatically affect calculations are the maximum and minimum radii used to respectively define the exterior surface of the protein and the boundary of the binding pocket itself. In practice, the minimum radius does not need to be changed as its default (1.4) is broadly useful. The maximum radius does often need to be adjust to find a suitable value using the max_rad parameter:
<code class="docutils literal"><span class="pre">`python</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">min_rad=1.4,</span> <span class="pre">max_rad=3.4</span>
<span class="pre">`</span></code></p>
<p>## Basic Usage
### Pocket Specification
PyVOL by default recognizes the largest pocket and returns the volume and geometry for it. However, manual identification of the pocket of interest is generally preferable. This can be done through specification of a ligand, a residue, or a coordinate. If a specification is given, the mode is changed to specific by default.</p>
<p>Default behavior:
<code class="docutils literal"><span class="pre">`python</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">mode=largest</span>
<span class="pre">`</span></code>
Ligand specification:
<code class="docutils literal"><span class="pre">`python</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">mode=specific,</span> <span class="pre">ligand=ligand_selection</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">ligand=ligand_selection</span>
<span class="pre">`</span></code>
Residue specification:
<code class="docutils literal"><span class="pre">`python</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">mode=specific,</span> <span class="pre">resid=A15</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">resid=A15</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">mode=specific,</span> <span class="pre">residue=residue_selection</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">residue=residue_selection</span>
<span class="pre">`</span></code>
where the resid is written as &lt;Chain&gt;&lt;Residue number&gt;. If there is only one chain in the selection, the chain ID can be excluded.</p>
<p>Coordinate specification:
<code class="docutils literal"><span class="pre">`python</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">mode=specific,</span> <span class="pre">pocket_coordinate=&quot;5.0</span> <span class="pre">10.0</span> <span class="pre">15.0&quot;</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">pocket_coordinate=&quot;5.0</span> <span class="pre">10.0</span> <span class="pre">15.0&quot;</span>
<span class="pre">`</span></code>
where the coordinate is provided as three floats separated by spaces and bounded by quotation marks.</p>
<p>Alternatively, PyVOL can return the surfaces and volumes for all pockets above a minimum volume that are identified. By default, this volume cutoff is set at 200 A^3.
<code class="docutils literal"><span class="pre">`python</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">mode=all,</span> <span class="pre">minimum_volume=200</span>
<span class="pre">`</span></code></p>
<p>### Extra Ligand Options
When a ligand is provided, the atoms of the ligand can be used to identify both minimum and maximum extents of the calculated binding pocket. To include the volume of the ligand in the pocket volume (useful for when the ligand extends into bulk solvent), use the lig_incl_rad parameter:
<code class="docutils literal"><span class="pre">`python</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">ligand=ligand_selection,</span> <span class="pre">lig_incl_rad=0.0</span>
<span class="pre">`</span></code>
where the value of lig_incl_rad is added to the Van der Waals radii of each atom in the ligand selection when calculating the exterior surface of the protein.</p>
<p>The atoms of the ligand can also be used to define a maximum boundary to the calculated pocket by specifying the lig_excl_rad parameter:
<code class="docutils literal"><span class="pre">`python</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">ligand=ligand_selection,</span> <span class="pre">lig_excl_rad=2.0</span>
<span class="pre">`</span></code>
where the value of lig_excl_rad is added to the Van der Waals radii of each atom in the ligand selection when calculating the exterior surface of the protein.</p>
<p>### Sub-pocket Partitioning
Sub-partitioning is enabled by setting the subdivide parameter to True:
<code class="docutils literal"><span class="pre">`python</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">subdivide=True</span>
<span class="pre">`</span></code></p>
<p>Parameters controlling the number of sub-pockets identified generally perform well using defaults; however, they can be easily adjusted as needed. The two most important parameters are the minimum radius of the largest sphere in each sub-pocket (this excludes small sub-pockets) and the maximum number of clusters:
<code class="docutils literal"><span class="pre">`python</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">subdivide=True,</span> <span class="pre">min_subpocket_rad=1.7,</span> <span class="pre">max_clusters=10</span>
<span class="pre">`</span></code>
If the number of clusters must be reduced, sub-pockets are merged on the basis of connectivity between the defining sets of tangent spheres. Practically, sub-pockets with a greater surface area boundary are merged first.</p>
<p>### Display and Output Options
By default, PyVOL simply outputs a log containing volumes and, when invoked through PyMOL, displays pocket boundaries as semi-translucent surfaces. This behavior can be extensively customized.</p>
<p>The output name for all computed PyMOL objects and the base filename for any output files can be specified using the prefix option:
<code class="docutils literal"><span class="pre">`python</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">prefix=favprot</span>
<span class="pre">`</span></code>
PyVOL can also write the input and output files to a directory if given an output directory. In this case it writes out the input protein and ligand structures, a csv report of all calcuated volumes, and paired csv/obj files containing tangent sphere collections and 3D triangulated mesh files respectively.
<code class="docutils literal"><span class="pre">`python</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">output_dir=best_out_dir</span>
<span class="pre">`</span></code></p>
<p>Calculated surfaces can be visualized in three different ways by setting the display_mode parameter. The following three commands set the output as a solid surface with transparency, a wireframe mesh, and a collection of spheres. Color is set with the color parameter and transparency (when applicable) with the alpha parameter:
<code class="docutils literal"><span class="pre">`python</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">display_mode=solid,</span> <span class="pre">alpha=0.85,</span> <span class="pre">color=skyblue</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">display_mode=mesh,</span> <span class="pre">color=red</span>
<span class="pre">pocket</span> <span class="pre">protein_selection,</span> <span class="pre">display_mode=spheres,</span> <span class="pre">color=firebrick</span>
<span class="pre">`</span></code>
where alpha is [0, 1.0] and the color is any color defined within pymol. The presets should generally be sufficient, but custom colors can be chosen using the commands given on the PyMOL wiki.</p>
<p>### Command-line Interface
PyVOL can also be run from the command-line. If installed using pip, a <cite>pyvol</cite> entry point should be automatically installed and made available on the path. Otherwise, manual invocation of <cite>pyvol/__main__.py</cite> should work. From the command-line, PyVOL is run with a standard configuration file.
<code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pyvol</span> <span class="pre">&lt;input_parameters.cfg&gt;</span>
<span class="pre">`</span></code>
A template configuration file with default values supplied can be generated using:
<code class="docutils literal"><span class="pre">`bash</span>
<span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pyvol</span> <span class="pre">-t</span> <span class="pre">&lt;output_template.cfg&gt;</span>
<span class="pre">`</span></code>
Currently, PyVOL only reports standard log output to stdout when run this way. So if an output directory is not provided, there is no easy way to retrieve the results.</p>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to pyvol&#8217;s documentation!</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/includeme.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Ryan Smith.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="_sources/includeme.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>